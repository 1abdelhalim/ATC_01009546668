{% extends 'base/base.html' %}
{% load i18n %}
{% load static %}

{% block title %}{% trans "Evently - Discover Amazing Events" %}{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section py-5 mb-5">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6" data-aos="fade-up" data-aos-delay="100">
                <div class="badge bg-primary-light text-primary rounded-pill px-3 py-2 mb-4">
                    {% trans "Find Your Next Experience" %}
                </div>
                <h1 class="hero-heading fw-bold mb-4">
                    {% if LANGUAGE_CODE == 'ar' %}
                        {% trans "Near You" %} <span class="gradient-text">{% trans "Amazing Events" %}</span> {% trans "Discover" %}
                    {% else %}
                        {% trans "Discover" %} <span class="gradient-text">{% trans "Amazing Events" %}</span> {% trans "Near You" %}
                    {% endif %}
                </h1>
                <p class="lead text-muted mb-5">
                    {% trans "Find and book the most exciting events in your area. From concerts to workshops, we've got you covered." %}
                </p>
                
                <div class="d-flex flex-wrap gap-3 mb-5">
                    <a href="{% url 'events:list' %}" class="btn btn-primary btn-lg">
                        {% if LANGUAGE_CODE == 'ar' %}
                            <span>{% trans "Browse Events" %}</span>
                            <i class="bi bi-arrow-right ms-2"></i>
                        {% else %}
                            <i class="bi bi-arrow-right me-2"></i>
                            <span>{% trans "Browse Events" %}</span>
                        {% endif %}
                    </a>
                    {% if not user.is_authenticated %}
                    <a href="{% url 'users:register' %}" class="btn btn-outline-primary btn-lg">
                        {% if LANGUAGE_CODE == 'ar' %}
                            <span>{% trans "Create Account" %}</span>
                            <i class="bi bi-person-plus ms-2"></i>
                        {% else %}
                            <i class="bi bi-person-plus me-2"></i>
                            <span>{% trans "Create Account" %}</span>
                        {% endif %}
                    </a>
                    {% endif %}
                </div>
                
                <!-- Search box -->
                <form class="event-search-form" action="{% url 'events:list' %}" method="get">
                    <div class="input-group shadow-sm">
                        <input type="text" name="search" class="form-control" placeholder="{% trans 'Search events...' %}" aria-label="{% trans 'Search events' %}">
                        <button type="submit" class="btn btn-primary">
                            <i class="bi bi-search me-2"></i>
                            <span>{% trans "Search" %}</span>
                        </button>
                    </div>
                </form>
            </div>
            <div class="col-lg-6 mt-5 mt-lg-0 position-relative" data-aos="fade-up" data-aos-delay="200">
                <!-- Decorative elements -->
                <div class="decoration-circle decoration-circle-1"></div>
                <div class="decoration-circle decoration-circle-2"></div>
                
                <!-- Hero image -->
                <div class="hero-image-container {% if LANGUAGE_CODE == 'ar' %}hero-rtl{% else %}hero-ltr{% endif %}">
                    <img src="{% static 'img/sections/hero.jpg' %}" alt="{% trans 'Events' %}" class="img-fluid rounded-4 shadow-lg hero-image">
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Stats Section -->
<section class="stats-section py-4 mb-5">
    <div class="container">
        <div class="row g-4 justify-content-center">
            <div class="col-lg-3 col-md-6 col-sm-6" data-aos="fade-up" data-aos-delay="100">
                <div class="stat-card text-center p-4">
                    <div class="stat-icon mb-3">
                        <i class="bi bi-calendar-event"></i>
                    </div>
                    <h3 class="stat-number">500+</h3>
                    <p class="stat-label text-muted mb-0">{% trans "Events Monthly" %}</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 col-sm-6" data-aos="fade-up" data-aos-delay="200">
                <div class="stat-card text-center p-4">
                    <div class="stat-icon mb-3">
                        <i class="bi bi-people"></i>
                    </div>
                    <h3 class="stat-number">10K+</h3>
                    <p class="stat-label text-muted mb-0">{% trans "Happy Users" %}</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 col-sm-6" data-aos="fade-up" data-aos-delay="300">
                <div class="stat-card text-center p-4">
                    <div class="stat-icon mb-3">
                        <i class="bi bi-tags"></i>
                    </div>
                    <h3 class="stat-number">50+</h3>
                    <p class="stat-label text-muted mb-0">{% trans "Categories" %}</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 col-sm-6" data-aos="fade-up" data-aos-delay="400">
                <div class="stat-card text-center p-4">
                    <div class="stat-icon mb-3">
                        <i class="bi bi-star"></i>
                    </div>
                    <h3 class="stat-number">98%</h3>
                    <p class="stat-label text-muted mb-0">{% trans "Satisfaction Rate" %}</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Categories Section -->
<section class="categories-section py-5 mb-5">
    <div class="container">
        <div class="section-header text-center mb-5">
            <h2 class="section-title">{% trans "Explore Categories" %}</h2>
            <p class="section-subtitle text-muted">{% trans "Find events that match your interests" %}</p>
        </div>
        
        <div class="row g-4">
            <div class="col-lg-3 col-md-4 col-6" data-aos="fade-up" data-aos-delay="100">
                <a href="#" class="category-card d-block">
                    <div class="card h-100 border-0 hover-lift">
                        <div class="card-body text-center p-4">
                            <div class="category-icon mb-3">
                                <i class="bi bi-music-note-beamed"></i>
                            </div>
                            <h3 class="category-title h5 mb-0">{% trans "Music" %}</h3>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-lg-3 col-md-4 col-6" data-aos="fade-up" data-aos-delay="200">
                <a href="#" class="category-card d-block">
                    <div class="card h-100 border-0 hover-lift">
                        <div class="card-body text-center p-4">
                            <div class="category-icon mb-3">
                                <i class="bi bi-laptop"></i>
                            </div>
                            <h3 class="category-title h5 mb-0">{% trans "Technology" %}</h3>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-lg-3 col-md-4 col-6" data-aos="fade-up" data-aos-delay="300">
                <a href="#" class="category-card d-block">
                    <div class="card h-100 border-0 hover-lift">
                        <div class="card-body text-center p-4">
                            <div class="category-icon mb-3">
                                <i class="bi bi-cup-hot"></i>
                            </div>
                            <h3 class="category-title h5 mb-0">{% trans "Networking" %}</h3>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-lg-3 col-md-4 col-6" data-aos="fade-up" data-aos-delay="400">
                <a href="#" class="category-card d-block">
                    <div class="card h-100 border-0 hover-lift">
                        <div class="card-body text-center p-4">
                            <div class="category-icon mb-3">
                                <i class="bi bi-controller"></i>
                            </div>
                            <h3 class="category-title h5 mb-0">{% trans "Entertainment" %}</h3>
                        </div>
                    </div>
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Featured Events Section -->
<section class="events-section py-5 mb-5">
    <div class="container">
        <div class="d-flex align-items-center justify-content-between mb-4">
            <div class="section-header">
                <h2 class="section-title">{% trans "Featured Events" %}</h2>
                <p class="section-subtitle text-muted">{% trans "Don't miss out on these exciting events" %}</p>
            </div>
            <a href="{% url 'events:list' %}" class="btn btn-outline-primary">{% trans "View All" %}</a>
        </div>
        
        <div class="row g-4">
            {% for event in featured_events %}
            <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="{{ forloop.counter|add:"100" }}">
                <!-- Event Card -->
                <div class="event-card card h-100 hover-lift">
                    <div class="event-image-wrapper position-relative">
                        <img src="{{ event.image.url|default:'static/img/sample-event.jpg' }}" class="card-img-top event-image" alt="{{ event.name }}">
                        
                        <!-- Category badge -->
                        <div class="position-absolute top-0 {% if LANGUAGE_CODE == 'ar' %}start-0{% else %}end-0{% endif %} p-3">
                            <span class="badge bg-primary rounded-pill">{{ event.category.name }}</span>
                        </div>
                        
                        <!-- Date badge -->
                        <div class="position-absolute bottom-0 {% if LANGUAGE_CODE == 'ar' %}end-0{% else %}start-0{% endif %} p-3">
                            <div class="event-date-badge">
                                <span class="event-month">{{ event.date|date:"M" }}</span>
                                <span class="event-day">{{ event.date|date:"d" }}</span>
                            </div>
                        </div>
                    </div>
                    <div class="card-body">
                        <h3 class="card-title h5 mb-2">{{ event.name }}</h3>
                        <p class="card-text text-truncate-2 text-muted mb-3">{{ event.description|truncatewords:15 }}</p>
                        
                        <div class="event-meta d-flex justify-content-between align-items-center mb-3">
                            <div class="event-location">
                                <i class="bi bi-geo-alt me-1"></i>
                                <span>{{ event.venue }}</span>
                            </div>
                            <div class="event-price">
                                <span class="text-primary fw-bold">${{ event.price }}</span>
                            </div>
                        </div>
                        
                        <a href="{% url 'events:detail' event.slug %}" class="btn btn-outline-primary w-100">
                            {% trans "View Details" %}
                        </a>
                    </div>
                </div>
            </div>
            {% empty %}
            <div class="col-12 text-center py-5">
                <div class="empty-state">
                    <div class="empty-state-icon mb-4">
                        <i class="bi bi-calendar-x"></i>
                    </div>
                    <h3 class="empty-state-title h4 mb-3">{% trans "No Featured Events" %}</h3>
                    <p class="empty-state-message text-muted mb-4">{% trans "We don't have any featured events at the moment. Please check back later." %}</p>
                    <a href="{% url 'events:list' %}" class="btn btn-primary">{% trans "Browse All Events" %}</a>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- App Download Section (CTA) -->
<section class="cta-section py-5 mb-5 bg-primary-light">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-md-7" data-aos="fade-right">
                <h2 class="cta-title mb-3">{% trans "Get Our Mobile App" %}</h2>
                <p class="cta-description mb-4">
                    {% trans "Download our mobile app to book events on the go, receive notifications, and manage your bookings from anywhere." %}
                </p>
                <div class="d-flex gap-3">
                    <a href="#" class="btn btn-dark">
                        <i class="bi bi-apple me-2"></i>
                        <span>App Store</span>
                    </a>
                    <a href="#" class="btn btn-dark">
                        <i class="bi bi-google-play me-2"></i>
                        <span>Google Play</span>
                    </a>
                </div>
            </div>
            <div class="col-md-5 text-center" data-aos="fade-left">
                <img src="{% static 'img/sections/app-download.jpg' %}" alt="{% trans 'Mobile App' %}" class="img-fluid rounded-4 cta-image">
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_css %}
<style>
    /* Hero section styles */
    .hero-section {
        position: relative;
        overflow: hidden;
    }
    
    .decoration-circle {
        position: absolute;
        border-radius: 50%;
        background: linear-gradient(45deg, var(--primary-color), var(--accent-color));
        opacity: 0.1;
        z-index: -1;
    }
    
    .decoration-circle-1 {
        width: 300px;
        height: 300px;
        right: -150px;
        top: -150px;
    }
    
    .decoration-circle-2 {
        width: 200px;
        height: 200px;
        left: 10%;
        bottom: -100px;
    }
    
    .hero-image-container {
        position: relative;
        transition: transform 0.5s ease;
    }
    
    .hero-rtl {
        transform: rotate(-3deg);
    }
    
    .hero-ltr {
        transform: rotate(3deg);
    }
    
    .hero-image-container:hover {
        transform: rotate(0);
    }
    
    .hero-image {
        object-fit: cover;
        height: 100%;
        box-shadow: var(--shadow-lg);
        transition: transform 0.5s ease;
    }
    
    /* Stats section styles */
    .stat-card {
        height: 100%;
        transition: var(--hover-transition);
        border-radius: var(--radius-lg);
        background-color: var(--card-bg);
    }
    
    .stat-card:hover {
        transform: translateY(-5px);
        box-shadow: var(--shadow-md);
    }
    
    .stat-icon {
        font-size: 2.5rem;
        color: var(--primary-color);
    }
    
    .stat-number {
        font-size: 2.5rem;
        font-weight: 700;
        margin-bottom: 0.25rem;
        background: linear-gradient(90deg, var(--primary-color) 0%, var(--accent-color) 100%);
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
    }
    
    /* Category styles */
    .category-card {
        text-decoration: none;
        color: var(--text-color);
        transition: var(--hover-transition);
    }
    
    .category-icon {
        font-size: 2.5rem;
        color: var(--primary-color);
    }
    
    /* Event card styles */
    .event-card {
        border: none;
        box-shadow: var(--shadow-sm);
        transition: var(--hover-transition);
    }
    
    .event-image-wrapper {
        height: 200px;
        overflow: hidden;
    }
    
    .event-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.5s ease;
    }
    
    .event-card:hover .event-image {
        transform: scale(1.05);
    }
    
    .event-date-badge {
        background-color: var(--card-bg);
        border-radius: var(--radius-md);
        padding: 0.5rem;
        display: flex;
        flex-direction: column;
        align-items: center;
        min-width: 60px;
        text-align: center;
        box-shadow: var(--shadow-sm);
    }
    
    .event-month {
        text-transform: uppercase;
        font-size: 0.75rem;
        font-weight: 500;
        color: var(--primary-color);
    }
    
    .event-day {
        font-size: 1.25rem;
        font-weight: 700;
        line-height: 1;
    }
    
    /* Section styles */
    .section-title {
        font-weight: 700;
        margin-bottom: 0.5rem;
    }
    
    .section-subtitle {
        font-size: 1.1rem;
    }
    
    /* Empty state styles */
    .empty-state {
        padding: 3rem 0;
    }
    
    .empty-state-icon {
        font-size: 3rem;
        color: var(--text-muted);
    }
    
    /* CTA section styles */
    .cta-section {
        border-radius: var(--radius-lg);
    }
    
    .cta-image {
        max-height: 400px;
        object-fit: cover;
    }
    
    /* RTL specific adjustments */
    html[dir="rtl"] .event-date-badge {
        flex-direction: column;
    }
    
    @media (max-width: 768px) {
        .hero-image-container {
            margin-top: 2rem;
            transform: rotate(0);
        }
        
        .event-image-wrapper {
            height: 180px;
        }
    }
</style>
{% endblock %} 